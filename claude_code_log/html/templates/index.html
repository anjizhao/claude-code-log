<!DOCTYPE html>
<!-- Generated by claude-code-log v{{ library_version }} -->
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>{{ title }}</title>
    {% from 'components/session_nav.html' import render_session_nav %}
    <style>
{% include 'components/global_styles.css' %}
{% include 'components/session_nav_styles.css' %}
{% include 'components/project_card_styles.css' %}
{% include 'components/search_styles.css' %}

        /* Compact session links within project card dropdowns */
        .project-sessions .session-link {
            padding: 6px 8px;
            font-size: 0.8em;
            margin-bottom: 4px;
        }
        .project-sessions .session-link-title {
            font-size: 0.85em;
        }
        .project-sessions .session-link-meta {
            font-size: 0.75em;
        }
    </style>
</head>

<body>
    <h1>{{ title }}</h1>

    <!-- Search Component -->
    {% include 'components/search.html' %}

    <div class='project-stats'>
        <div class='stat'>ğŸ“ {{ summary.total_projects }} projects</div>
        <div class='stat'>ğŸ“‹ {{ summary.total_jsonl }} transcript files</div>
        <div class='stat'>ğŸ’¬ {{ summary.total_messages }} messages</div>
        {% if summary.token_summary %}
        <div class='stat'>ğŸª™ {{ summary.token_summary }}</div>
        {% endif %}
        {% if summary.formatted_time_range %}
        <div class='stat'>ğŸ•’ <span class="timestamp"{% if summary.earliest_interaction %} data-timestamp="{{ summary.earliest_interaction }}"{% endif %}{% if summary.latest_interaction and summary.latest_interaction != summary.earliest_interaction %} data-timestamp-end="{{ summary.latest_interaction }}"{% endif %}>{{ summary.formatted_time_range }}</span></div>
        {% endif %}
    </div>

    <div class='project-list'>
        {% for project in projects %}
        <div class='project-card{% if project.is_archived %} archived{% endif %}'>
            <div class='project-name'>
                <a href='{{ project.html_file }}'>{{ project.display_name }}</a>
                {% if project.is_archived %}
                <span class="archived-badge">Archived</span>
                {% else %}
                <span class="transcript-link-hint">(â† {% if project.html_file.endswith('/index.html') %}open sessions{% else %}open combined transcript{% endif %})</span>
                {% endif %}
            </div>
            <div class='project-stats'>
                <div class='stat'>ğŸ“ {{ project.jsonl_count }} transcript files</div>
                <div class='stat'>ğŸ’¬ {{ project.message_count }} messages</div>
                {% if project.formatted_time_range %}
                <div class='stat'>ğŸ•’ <span class="timestamp"{% if project.earliest_timestamp %} data-timestamp="{{ project.earliest_timestamp }}"{% endif %}{% if project.latest_timestamp and project.latest_timestamp != project.earliest_timestamp %} data-timestamp-end="{{ project.latest_timestamp }}"{% endif %}>{{ project.formatted_time_range }}</span></div>
                {% else %}
                <div class='stat'>ğŸ•’ {{ project.formatted_date }}</div>
                {% endif %}
                {% if project.token_summary %}
                <div class='stat'>ğŸª™ {{ project.token_summary }}</div>
                {% endif %}
            </div>

            {% if project.sessions and project.sessions|length > 0 %}
            <div class='project-sessions'>
                <details>
                    <summary>Sessions ({{ project.sessions|length }})</summary>
                    {{ render_session_nav(project.sessions, "expandable", project.name + "/") }}
                </details>
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            {% include 'components/timezone_converter.js' %}
        });
    </script>
</body>

</html>